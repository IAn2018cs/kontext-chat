<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
		<meta name="theme-color" content="#e04f0c" />
		<!-- Favicon -->
		<link rel="icon" type="image/png" href="https://blog-image.ian2018.cn/amber_icon.png" />
		<link rel="apple-touch-icon" href="https://blog-image.ian2018.cn/amber_icon.png" />
		<!-- React and ReactDOM from CDN -->
		<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
		<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
		<!-- Babel for JSX support in the browser -->
		<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
		<!-- Tailwind CSS CDN -->
		<script src="https://cdn.tailwindcss.com"></script>
		<!-- Custom CSS for modern animations -->
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
			
			body {
				font-family: 'Inter', system-ui, -apple-system, sans-serif;
			}
			
			.glass-effect {
				backdrop-filter: blur(20px);
				background: rgba(255, 255, 255, 0.95);
				border: 1px solid rgba(255, 255, 255, 0.2);
			}
			
			.gradient-border {
				position: relative;
				background: linear-gradient(white, white) padding-box,
						   linear-gradient(135deg, #f47020, #e04f0c) border-box;
				border: 2px solid transparent;
			}
			
			.floating-animation {
				animation: float 6s ease-in-out infinite;
			}
			
			@keyframes float {
				0%, 100% { transform: translateY(0px); }
				50% { transform: translateY(-10px); }
			}
			
			.glow-effect {
				box-shadow: 0 0 20px rgba(240, 112, 32, 0.3);
			}
			
			.modern-card {
				backdrop-filter: blur(20px);
				background: rgba(255, 255, 255, 0.98);
				border: 1px solid rgba(255, 255, 255, 0.3);
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
			}
			
			/* 上传页面使用卡片样式，聊天页面使用全屏样式 */
			.upload-card {
				backdrop-filter: blur(20px);
				background: rgba(255, 255, 255, 0.98);
				border: 1px solid rgba(255, 255, 255, 0.3);
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
			}
			
			.chat-fullscreen {
				backdrop-filter: blur(20px);
				background: rgba(255, 255, 255, 0.98);
				border: none;
				box-shadow: none;
			}
			
			/* 添加滚动条样式 */
			::-webkit-scrollbar {
				width: 6px;
			}
			
			::-webkit-scrollbar-track {
				background: rgba(0, 0, 0, 0.05);
				border-radius: 3px;
			}
			
			::-webkit-scrollbar-thumb {
				background: linear-gradient(45deg, #f47020, #e04f0c);
				border-radius: 3px;
			}
			
			::-webkit-scrollbar-thumb:hover {
				background: linear-gradient(45deg, #e04f0c, #d63384);
			}
			
			/* 文本选择颜色 */
			::selection {
				background: rgba(240, 112, 32, 0.2);
			}
			
			/* 加载动画 */
			@keyframes pulse-glow {
				0%, 100% {
					box-shadow: 0 0 20px rgba(240, 112, 32, 0.3);
				}
				50% {
					box-shadow: 0 0 40px rgba(240, 112, 32, 0.6);
				}
			}
			
			.pulse-glow {
				animation: pulse-glow 2s ease-in-out infinite;
			}
			
			/* 渐入动画 */
			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
			
			.fade-in {
				animation: fadeIn 0.5s ease-out;
			}
			
			/* 暗色主题样式 */
			.dark {
				color-scheme: dark;
			}
			
			.dark body {
				background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
			}
			
			.dark .modern-card {
				background: rgba(15, 23, 42, 0.95);
				border: 1px solid rgba(51, 65, 85, 0.4);
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
			}
			
			.dark .upload-card {
				background: rgba(15, 23, 42, 0.95);
				border: 1px solid rgba(51, 65, 85, 0.4);
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
			}
			
			.dark .chat-fullscreen {
				background: rgba(15, 23, 42, 0.98);
				border: none;
				box-shadow: none;
			}
			
			.dark .glass-effect {
				background: rgba(15, 23, 42, 0.95);
				border: 1px solid rgba(51, 65, 85, 0.3);
			}
			
			.dark .text-gray-700 {
				color: rgb(226, 232, 240) !important;
			}
			
			.dark .text-gray-600 {
				color: rgb(203, 213, 225) !important;
			}
			
			.dark .text-gray-500 {
				color: rgb(148, 163, 184) !important;
			}
			
			.dark .text-gray-800 {
				color: rgb(241, 245, 249) !important;
			}
			
			.dark .border-gray-200 {
				border-color: rgb(51, 65, 85) !important;
			}
			
			.dark .border-gray-300 {
				border-color: rgb(71, 85, 105) !important;
			}
			
			.dark .bg-white {
				background-color: rgb(15, 23, 42) !important;
			}
			
			.dark .bg-gray-50 {
				background-color: rgb(30, 41, 59) !important;
			}
			
			.dark .bg-gray-100 {
				background-color: rgb(51, 65, 85) !important;
			}
			
			.dark .bg-gradient-to-r.from-white.to-gray-50 {
				background: linear-gradient(to right, rgb(15, 23, 42), rgb(30, 41, 59)) !important;
			}
			
			.dark .bg-gradient-to-r.from-gray-50.to-gray-100 {
				background: linear-gradient(to right, rgb(30, 41, 59), rgb(51, 65, 85)) !important;
			}
			
			.dark .bg-gradient-to-r.from-gray-50.to-slate-50 {
				background: linear-gradient(to right, rgb(30, 41, 59), rgb(30, 41, 59)) !important;
			}
			
			.dark .bg-gradient-to-br.from-gray-50.to-slate-50 {
				background: linear-gradient(to bottom right, rgb(30, 41, 59), rgb(51, 65, 85)) !important;
			}
			
			.dark .placeholder-gray-500::placeholder {
				color: rgb(148, 163, 184) !important;
			}
			
			/* 暗色模式下的滚动条 */
			.dark ::-webkit-scrollbar-track {
				background: rgba(51, 65, 85, 0.3);
			}
			
			.dark ::-webkit-scrollbar-thumb {
				background: linear-gradient(45deg, #f59e0b, #f97316);
			}
			
			.dark ::-webkit-scrollbar-thumb:hover {
				background: linear-gradient(45deg, #d97706, #ea580c);
			}
			
			/* 主题切换按钮 */
			.theme-toggle {
				position: fixed;
				top: 20px;
				right: 20px;
				z-index: 1000;
				background: rgba(255, 255, 255, 0.9);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(0, 0, 0, 0.1);
				border-radius: 50%;
				width: 48px;
				height: 48px;
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
			}
			
			.theme-toggle:hover {
				transform: scale(1.1);
				box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
			}
			
			.dark .theme-toggle {
				background: rgba(31, 41, 55, 0.9);
				border: 1px solid rgba(75, 85, 99, 0.3);
				color: white;
			}
			
			/* 标题文字样式 */
			.app-title {
				font-size: 1.8rem;
				font-weight: 700;
				background: linear-gradient(135deg, #f59e0b, #f97316, #ea580c);
				-webkit-background-clip: text;
				background-clip: text;
				-webkit-text-fill-color: transparent;
				text-align: center;
				letter-spacing: 0.05em;
				position: relative;
			}
			
			.app-title::after {
				content: '';
				position: absolute;
				bottom: -4px;
				left: 50%;
				transform: translateX(-50%);
				width: 60px;
				height: 2px;
				background: linear-gradient(135deg, #f59e0b, #f97316);
				border-radius: 2px;
			}
			
			.dark .app-title {
				background: linear-gradient(135deg, #fbbf24, #f59e0b, #f97316);
				-webkit-background-clip: text;
				background-clip: text;
				-webkit-text-fill-color: transparent;
			}
			
			.dark .app-title::after {
				background: linear-gradient(135deg, #fbbf24, #f59e0b);
			}
			
			@media (max-width: 768px) {
				.app-title {
					font-size: 1.5rem;
				}
				
				.theme-toggle {
					top: 10px;
					right: 10px;
					width: 40px;
					height: 40px;
				}
				
				.floating-animation {
					animation-duration: 8s;
				}
			}
			
			/* 桌面端优化 */
			@media (min-width: 769px) {
				.app-title {
					font-size: 2rem;
				}
				
				/* 桌面端消息区域内边距优化 */
				.desktop-chat-padding {
					padding: 2rem 3rem;
				}
				
				/* 桌面端输入区域内边距优化 */
				.desktop-input-padding {
					padding: 2rem 3rem;
					padding-bottom: 2rem !important;
				}
			}
			
			/* 改进按钮点击反馈 */
			.btn-press {
				transform: scale(0.95);
				transition: transform 0.1s ease;
			}
			
			/* 改进加载状态 */
			.loading-dots::after {
				content: '';
				animation: loading-dots 1.5s infinite;
			}
			
			@keyframes loading-dots {
				0%, 20% { content: ''; }
				40% { content: '.'; }
				60% { content: '..'; }
				80%, 100% { content: '...'; }
			}
			
			/* 平滑滚动 */
			html {
				scroll-behavior: smooth;
			}
			
			/* 自定义焦点样式 */
			.custom-focus:focus {
				outline: none;
				box-shadow: 0 0 0 2px rgb(249 115 22), 0 0 0 4px rgba(249 115 22, 0.2);
			}
			
			/* 暗色模式下更多元素的样式优化 */
			.dark .bg-blue-50 {
				background: rgba(30, 58, 138, 0.2) !important;
			}
			
			.dark .text-blue-800 {
				color: rgb(147, 197, 253) !important;
			}
			
			.dark .border-blue-200 {
				border-color: rgba(59, 130, 246, 0.3) !important;
			}
			
			.dark .bg-gradient-to-br.from-blue-50.to-indigo-50 {
				background: linear-gradient(to bottom right, rgba(30, 58, 138, 0.2), rgba(67, 56, 202, 0.2)) !important;
			}
			
			.dark .bg-gradient-to-br.from-green-50.to-emerald-50 {
				background: linear-gradient(to bottom right, rgba(5, 150, 105, 0.2), rgba(16, 185, 129, 0.2)) !important;
			}
			
			.dark .border-green-400 {
				border-color: rgb(34, 197, 94) !important;
			}
			
			.dark .text-green-700 {
				color: rgb(74, 222, 128) !important;
			}
			
			.dark .border-orange-400 {
				border-color: rgb(251, 146, 60) !important;
			}
			
			.dark .text-orange-700 {
				color: rgb(253, 186, 116) !important;
			}
			
			.dark .bg-gradient-to-br.from-orange-50.to-red-50 {
				background: linear-gradient(to bottom right, rgba(251, 146, 60, 0.2), rgba(248, 113, 113, 0.2)) !important;
			}
			
			.dark .hover\:border-orange-400:hover {
				border-color: rgb(251, 146, 60) !important;
			}
			
			.dark .hover\:text-orange-700:hover {
				color: rgb(253, 186, 116) !important;
			}
			
			.dark .focus\:border-orange-500:focus {
				border-color: rgb(249, 115, 22) !important;
			}
			
			/* 暗色模式下的特殊效果 */
			.dark .glow-effect {
				box-shadow: 0 0 20px rgba(251, 146, 60, 0.4);
			}
			
			.dark .pulse-glow {
				animation: dark-pulse-glow 2s ease-in-out infinite;
			}
			
			@keyframes dark-pulse-glow {
				0%, 100% {
					box-shadow: 0 0 20px rgba(251, 146, 60, 0.4);
				}
				50% {
					box-shadow: 0 0 40px rgba(251, 146, 60, 0.7);
				}
			}
			
			.dark .shadow-lg {
				box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1) !important;
			}
			
			.dark .shadow-xl {
				box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1) !important;
			}
			
			.dark .shadow-2xl {
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4) !important;
			}
			
			.dark .hover\:shadow-lg:hover {
				box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1) !important;
			}
			
			.dark .hover\:shadow-xl:hover {
				box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1) !important;
			}
			
			.dark .hover\:shadow-2xl:hover {
				box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4) !important;
			}
			
			/* 暗色模式下的选择框和标签样式修复 */
			.dark select {
				background-color: rgb(30, 41, 59) !important;
				color: rgb(226, 232, 240) !important;
				border-color: rgb(71, 85, 105) !important;
			}
			
			.dark select:hover {
				border-color: rgb(251, 146, 60) !important;
			}
			
			.dark select:focus {
				border-color: rgb(249, 115, 22) !important;
				background-color: rgb(15, 23, 42) !important;
			}
			
			.dark select option {
				background-color: rgb(30, 41, 59) !important;
				color: rgb(226, 232, 240) !important;
			}
			
			.dark label {
				color: rgb(226, 232, 240) !important;
			}
			
			.dark .text-gray-900 {
				color: rgb(226, 232, 240) !important;
			}
			
			.dark .font-semibold {
				color: rgb(226, 232, 240) !important;
			}
			
			/* 确保所有输入框在暗色模式下的样式 */
			.dark input, .dark textarea {
				background-color: rgb(30, 41, 59) !important;
				color: rgb(226, 232, 240) !important;
				border-color: rgb(71, 85, 105) !important;
			}
			
			.dark input:focus, .dark textarea:focus {
				background-color: rgb(15, 23, 42) !important;
				border-color: rgb(249, 115, 22) !important;
			}
			
			.dark input::placeholder, .dark textarea::placeholder {
				color: rgb(148, 163, 184) !important;
			}
			
			/* 暗色模式下的额外文字颜色修复 */
			.dark .text-sm {
				color: rgb(203, 213, 225) !important;
			}
			
			.dark .font-medium {
				color: rgb(226, 232, 240) !important;
			}
			
			.dark .font-bold {
				color: rgb(226, 232, 240) !important;
			}
			
			/* 确保所有灰色文字在暗色模式下可见 */
			.dark [class*="text-gray"] {
				color: rgb(203, 213, 225) !important;
			}
			
			/* 特定覆盖较暗的灰色文字 */
			.dark .text-gray-400 {
				color: rgb(156, 163, 175) !important;
			}
			
			/* 禁用状态的文字颜色 */
			.dark .disabled\:opacity-50 {
				color: rgb(107, 114, 128) !important;
			}
			
			/* 加载提示文字 */
			.dark .text-center {
				color: rgb(203, 213, 225) !important;
			}
		</style>
		<!-- og:tags -->
		 <!-- Primary Meta Tags -->
		<title>Kontext Chat - Chat with images to edit them, powered by FLUX.1 Kontext on Replicate</title>
		<meta name="title" content="Kontext Chat - Chat with images to edit them, powered by FLUX.1 Kontext on Replicate" />
		<meta name="description" content="Kontext Chat is a tool for image editing powered by Flux Kontext Pro, a new image model from Black Forest Labs, running on Replicate. The app is built with Hono and React, running on Cloudflare Workers. Learn how to build your own app by taking a look at the source code on GitHub." />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://kontext-chat.replicate.dev/" />
		<meta property="og:title" content="Kontext Chat - Chat with images to edit them" />
		<meta property="og:description" content="Kontext Chat is a tool for image editing powered by Flux Kontext Pro, a new image model from Black Forest Labs, running on Replicate. The app is built with Hono and React, running on Cloudflare Workers. Learn how to build your own app by taking a look at the source code on GitHub." />
		<meta property="og:image" content="https://kontext-chat.replicate.dev/kontext-chat.jpg" />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="https://kontext-chat.replicate.dev/" />
		<meta property="twitter:title" content="Kontext Chat - Chat with images to edit them" />
		<meta property="twitter:description" content="Kontext Chat is a tool for image editing powered by Flux Kontext Pro, a new image model from Black Forest Labs, running on Replicate. The app is built with Hono and React, running on Cloudflare Workers. Learn how to build your own app by taking a look at the source code on GitHub." />
		<meta property="twitter:image" content="https://kontext-chat.replicate.dev/kontext-chat.jpg" />

		<!-- Meta Tags Generated with https://metatags.io -->
	</head>
	<body class="bg-gradient-to-br from-[#e04f0c] via-[#f47020] to-[#ff8c42] min-h-screen flex items-center justify-center">
		<div id="root"></div>
		<script src="app.js" type="text/babel"></script>
		<script type="text/babel">
			const root = ReactDOM.createRoot(document.getElementById('root'));
			root.render(<App />);
		</script>
	</body>
</html>
